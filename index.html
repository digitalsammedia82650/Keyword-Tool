<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Keyword Architect Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
#kap-app{
  max-width:950px;
  margin:30px auto;
  background:#ffffff;
  padding:30px;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:#1e293b;
}
h1{margin:0;font-size:26px}
.sub{font-size:13px;color:#64748b;margin-bottom:20px}

.tabs{
  display:flex;
  gap:10px;
  margin-bottom:20px;
  border-bottom:1px solid #e2e8f0
}
.tabs button{
  padding:12px 18px;
  background:none;
  border:none;
  font-weight:600;
  cursor:pointer;
  color:#64748b;
  border-bottom:2px solid transparent
}
.tabs button.active{
  color:#2563eb;
  border-bottom-color:#2563eb
}

.input-group{margin-bottom:15px}
label{
  display:block;
  font-size:12px;
  font-weight:700;
  margin-bottom:5px;
  color:#475569
}

input,select,textarea{
  width:100%;
  padding:12px;
  border-radius:8px;
  border:1px solid #cbd5e1;
  font-size:14px;
  box-sizing:border-box
}

button.main{
  width:100%;
  padding:15px;
  border:none;
  border-radius:8px;
  background:#2563eb;
  color:#fff;
  font-size:15px;
  font-weight:700;
  cursor:pointer
}

.results-label{
  margin-top:25px;
  font-size:11px;
  font-weight:800;
  color:#1e40af;
  text-transform:uppercase;
  letter-spacing:1px
}

#output{
  width:100%;
  height:240px;
  margin-top:10px;
  padding:12px;
  background:#f8fafc;
  border:1px solid #e2e8f0;
  border-radius:8px;
  font-family:Courier New,monospace;
  font-size:13px
}

#preview{
  margin-top:10px;
  padding:15px;
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:8px;
  max-height:300px;
  overflow:auto
}

.highlight{background:#fde047;font-weight:700}
.block{
  margin-bottom:10px;
  padding:8px;
  background:#f1f5f9;
  border-left:4px solid #2563eb;
  border-radius:4px
}

.hidden{display:none}
</style>
</head>

<body>
<div id="kap-app">
<h1>Keyword Architect Pro</h1>
<div class="sub">Extensive Grammar-Aware Keyword Builder & Extractor</div>

<div class="tabs">
  <button id="tab-builder" class="active" onclick="switchTab('builder')">
    Keyword Builder
  </button>
  <button id="tab-extractor" onclick="switchTab('extractor')">
    Content Keyword Extractor
  </button>
</div>

<!-- TOOL 1 -->
<div id="builder">
  <div class="input-group">
    <label>Seed Keyword</label>
    <input id="seed" placeholder="bookmark">
  </div>

  <div class="input-group">
    <label>Locations (comma separated)</label>
    <input id="location" placeholder="Newyork, London">
  </div>

  <div class="input-group">
    <label>Additional Phrase Type</label>
    <select id="modifier-type">
      <option value="">None</option>
      <option value="interrogative">Question (How / Why / What)</option>
      <option value="context">Contextual / Expansion Phrase</option>
    </select>
  </div>

  <div class="input-group">
    <label>Additional Phrase</label>
    <input id="modifier-text" placeholder="How to use / for beginners">
  </div>

  <button class="main" onclick="runBuilder()">
    Generate Keyword Ideas
  </button>
</div>

<!-- TOOL 2 -->
<div id="extractor" class="hidden">
  <div class="input-group">
    <label>Keyword to Find</label>
    <input id="extract-seed" placeholder="bookmark">
  </div>

  <div class="input-group">
    <label>Paste Your Content</label>
    <textarea id="content" placeholder="Paste article or webpage text here..."></textarea>
  </div>

  <button class="main" onclick="runExtractor()">
    Extract Keyword Sentences
  </button>
</div>

<div class="results-label">Output</div>
<textarea id="output" readonly></textarea>

<div id="preview-area" class="hidden">
  <div class="results-label">Context Preview</div>
  <div id="preview"></div>
</div>
</div>

<script>
/* ===== GRAMMAR & TEMPLATE ENGINE ===== */
const Grammar={
  plural:w=>w.endsWith("s")?w:w+"s",
  article:w=>/^[aeiou]/i.test(w)?"an":"a",

  /* EXTENSIVE TEMPLATE LIST (RESTORED) */
  blueprints:[
    /* Informational */
    s=>`How to use ${Grammar.article(s)} ${s}`,
    s=>`What is ${Grammar.article(s)} ${s}`,
    s=>`Why use ${Grammar.article(s)} ${s}`,
    s=>`${s} meaning and definition`,

    /* Commercial / Quality */
    s=>`Best ${s}`,
    s=>`Top ${s} in 2025`,
    s=>`Best ${s} for professionals`,
    s=>`${s} reviews and ratings`,

    /* Transactional */
    s=>`Buy ${Grammar.article(s)} ${s}`,
    s=>`${s} price`,
    s=>`${s} cost`,
    s=>`Cheap ${Grammar.plural(s)}`,
    s=>`${s} available online`,

    /* Comparison */
    s=>`${s} vs alternatives`,
    s=>`Best alternative to ${s}`,
    s=>`${s} comparison guide`,

    /* Educational */
    s=>`${s} tutorial`,
    s=>`${s} step by step guide`,
    s=>`${s} tips and tricks`,
    s=>`${s} examples`,

    /* Freshness */
    s=>`${s} guide 2025`,
    s=>`Latest ${s}`
  ]
};

/* ===== TOOL 1: KEYWORD BUILDER ===== */
function runBuilder(){
  const seed=document.getElementById("seed").value.trim();
  if(!seed) return alert("Please enter a seed keyword");

  const locations=document.getElementById("location").value
    .split(",").map(l=>l.trim()).filter(Boolean);

  const type=document.getElementById("modifier-type").value;
  const phrase=document.getElementById("modifier-text").value.trim();

  let out=[];

  locations.forEach(loc=>{

    /* INTERROGATIVE MODE */
    if(type==="interrogative" && phrase){
      out.push(`${phrase} ${Grammar.article(seed)} ${seed} in ${loc}`);
      out.push(`${seed} near ${loc}`);
      return;
    }

    /* FULL TEMPLATE MODE */
    Grammar.blueprints.forEach(bp=>{
      let line=bp(seed);

      if(type==="context" && phrase){
        line+=` ${phrase}`;
      }

      line+=` in ${loc}`;
      out.push(line);
    });

    /* Local proximity */
    out.push(`${seed} near ${loc}`);
    out.push(`${seed} near me in ${loc}`);
  });

  document.getElementById("output").value=out.join("\n");
  document.getElementById("preview-area").className="hidden";
}

/* ===== TOOL 2: CONTENT EXTRACTOR ===== */
function runExtractor(){
  const seed=document.getElementById("extract-seed").value.trim();
  const text=document.getElementById("content").value;
  if(!seed||!text) return alert("Please enter keyword and content");

  const segments=text.split(/\n|(?<=[.!?])\s+/);
  const regex=new RegExp(`(${seed})`,"gi");

  let plain=[], html=[];

  segments.forEach(s=>{
    if(s.toLowerCase().includes(seed.toLowerCase())){
      plain.push(s.trim());
      html.push(
        `<div class="block">${s.replace(regex,
          `<span class="highlight">$1</span>`)}</div>`
      );
    }
  });

  document.getElementById("output").value=plain.join("\n\n");
  document.getElementById("preview").innerHTML=
    html.length?html.join(""):"No matching sentences found.";
  document.getElementById("preview-area").className="";
}

/* ===== UI ===== */
function switchTab(tab){
  document.getElementById("builder").className=tab==="builder"?"":"hidden";
  document.getElementById("extractor").className=tab==="extractor"?"":"hidden";
  document.getElementById("tab-builder").className=tab==="builder"?"active":"";
  document.getElementById("tab-extractor").className=tab==="extractor"?"active":"";
  document.getElementById("output").value="";
  document.getElementById("preview-area").className="hidden";
}
</script>
</body>
</html>
